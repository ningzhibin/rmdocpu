<html>
  
  <head>
      <title> Opencpu Report </title>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
      <link rel="shortcut icon" type="image/x-icon" href="resources/favicon.ico"/>
   
      
      <script src="resources/jquery.min.js"></script>
      <script src="resources/bootstrap.min.js"></script>
      
      <script src="resources/underscore-min.js"></script>    
      <script src="resources/opencpu-0.5.js"></script>
      
      
      
      
      <link href="resources/bootstrap.min.css" rel="stylesheet" />
      <link href="resources/AdminLTE.min.css" rel="stylesheet" />
      <link href="resources/_all-skins.min.css" rel="stylesheet" />
      <link href="resources/custom.css" rel="stylesheet" />
      <link href="font-awesome/css/font-awesome.css" rel="stylesheet">
      <!-- 
      
      -->
      
     <!--  This script control sthe left nevigation bar behavior  -->
    <script>
          
          $(function(){
          var a=function(){var a=$(".sidebar-menu a[data-toggle='tab'],.sidebar-menu li.treeview > a");
          
          a.not($(this)).parent("li").removeClass("active");
          
          var b=$(".sidebarMenuSelectedTabItem"), c=b.data("shiny-input-binding");
          "undefined"!=typeof c&&(c.setValue(b,$(this).attr("data-value")),b.trigger("change"))};
          
          $(document).on("shown.bs.tab",'.sidebar-menu a[data-toggle="tab"]',a);
          
          var b=function(){var a=$(".sidebar-menu a[data-toggle='tab']"),b=a.filter("[data-start-selected='1']");
          0===b.length&&(b=a.first()),0!==b.length&&(b.tab("show"),$(".sidebarMenuSelectedTabItem").attr("data-value",b.attr("data-value")))};
          
          b(),$("section.sidebar").data("disable")&&($("body").addClass("sidebar-collapse"),$(".navbar > .sidebar-toggle").hide());
          
          var c=function(){return $(".main-sidebar").offset().left<0},d=function(){$(window).trigger("resize");
          var a=$(".main-sidebar.shiny-bound-input"),b=a.data("shiny-input-binding");
          b.setValue(a,c()),a.trigger("change")};
          
          $(".main-sidebar").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",d),$(".main-sidebar").offset().left<0&&$(".main-sidebar").attr("data-collapsed","true"),$(document).on("click",".treeview > a",function(){var a=$(this).next();
          a.hasClass("menu-open")?a.trigger("hidden"):a.hasClass("treeview-menu")&&a.trigger("shown");
          var b=$("section.sidebar.shiny-bound-input");
          setTimeout(function(){b.trigger("change")},600)});
                
      });
          
          
          // opencpu operation

        $(function(){
        
           ocpu.seturl("http://206.12.91.148/ocpu/library/rmdocpu/R");
           
          function domarkdown(e){
            var req = ocpu.call(
              //"rmdtext", {text : editor.getSession().getValue()}, 
              "render_rmd_url",{rmd_url : 'https://raw.githubusercontent.com/ningzhibin/metalab/master/inst/rmd/input.Rmd'},
              //"render_rmd_server",{rmd_file: 'input.Rmd'},
            function(session){
              
            console.log(session);
        		
        		 	session.getConsole(function(outtxt){
        				console.log(outtxt);
          			});
        		
        		
              $("iframe").attr('src', session.getFileURL("output.html"));     
            }).fail(function(text){
              alert("Error: " + req.responseText);
            });
          }
        
          //auto run after 2 seconds of no activity
          //var update = _.debounce(domarkdown, 2000);
          domarkdown();  
        });
  </script>
    
    
    
    
  </head>


  <body class="skin-blue" style="min-height: 611px;">
    <div class="wrapper">
      
        <!--  header navigation bar -->
      
      <header class="main-header">
        <span class="logo">
          <span>
            <img src="resources/logo_imetalab.png" width="150"/>
            OpenCPU report
          </span>
        </span>
        <nav class="navbar navbar-static-top" role="navigation">
          <span style="display:none;">
            <i class="fa fa-bars"></i>
          </span>
          <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
            <span class="sr-only">Toggle navigation</span>
          </a>
          <div class="navbar-custom-menu">
            <ul class="nav navbar-nav">
              <li class="dropdown">
                <a> <img height="18px" alt="SNAP Logo" src="resources/logo_M.png"/> </a>
              </li>
            </ul>
          </div>
        </nav>
        
      </header>
      
      
      <!-- left side navigation bar -->
      
      <aside id="sidebarCollapsed" class="main-sidebar" data-collapsed="false">
        <section id="sidebarItemExpanded" class="sidebar">
          
          <ul class="sidebar-menu">
            
            <li>
              <a href="#shiny-tab-dashboard" data-toggle="tab" data-value="dashboard">
                <i class="icon-dashboard "></i>
                <span>Dashboard</span>
              </a>
            </li>
            
            
            <li>
              <a href="#shiny-tab-gallery" data-toggle="tab" data-value="gallery">
                <i class="icon-picture"></i>
                <span>Gallery</span>
              </a>
            </li>
            
            
            <li>
              <a href="#shiny-tab-about" data-toggle="tab" data-value="about">
                <i class="icon-info-sign"></i>
                <span>About</span>
              </a>
            </li>
            
            <li>
              <a href="http://www.imetalab.ca" target="_blank">
                <i class="icon-home"></i>
                <span>iMetaLab</span>
              </a>
            </li>
            
  
            
          </ul>
        </section>
      </aside>
      
      
      
      
       <!--  content section -->
      
      <div class="content-wrapper">
        <section class="content">
          <div class="tab-content">
            
            
             <!--  tab panel section 1 -->
             
            <div role="tabpanel" class="tab-pane" id="shiny-tab-dashboard">
              <div class="row">
                
                
                
                <div class="col-sm-4">
                  
                  <div class="box box-solid box-primary">
                    
                    <div class="box-header">
                      <h3 class="box-title">Data preparation</h3>
                    </div>
                    
                    
                    <div class="box-body">
                      <div class="row">
                        <div class="col-sm-6">
                          
                          <div id="data_source" class="form-group shiny-input-radiogroup shiny-input-container">
                            <label class="control-label" for="data_source">Choose data to start</label>
                              <div class="radio">
                                <label>
                                  <input type="radio" name="data_source" value="Upload data" checked="checked"/>
                                  <span>Option1</span>
                                </label>
                              </div>
                              <div class="radio">
                                <label>
                                  <input type="radio" name="data_source" value="Sample dataset (with meta data)"/>
                                  <span>Option2</span>
                                </label>
                              </div>
                          </div>
                          
                          
                        </div>
                      </div>
                      
                 
                        <div class="row">
                          <div class="col-sm-6">
                            <button id="goto_data_plotting" type="button" class="btn btn-default action-button" style="float:left; color: #fff; background-color: #737272; border-color: #2e6da4">
                              <i class="fa fa-arrow-right"></i>
                              Generate Report
                            </button>
                          </div>
                        </div>
                      
                    </div>
                    
                  </div>
                </div>
                
                   <!--  iframe output section -->
 
                  <div class="col-sm-8">
                    <div class="box box-solid box-primary">
                       <div class="box-header">
                        <h3 class="box-title">Report</h3>
                      </div>
                      
                      <div class="box-body">
                        <iframe src="about:blank"></iframe>
                      </div>
                    </div>
                  </div>
                

                
                
              </div>
            </div>
            
            
     
            <!--  tab panel section 2 -->
            
            
            <div role="tabpanel" class="tab-pane" id="shiny-tab-gallery">
              <div class="row">
                <div class="col-sm-12">
                  <div class="box box-solid box-primary">
                    <div class="box-header">
                      <h3 class="box-title">Some plot pictures here</h3>
                    </div>
                    <div class="box-body">
                     
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!--  tab panel section 3 -->
            
            <div role="tabpanel" class="tab-pane" id="shiny-tab-about">
              <div class="row">
                <div class="col-sm-12">
                  <div class="box box-solid box-primary">
                    <div class="box-header">
                      <h3 class="box-title">About</h3>
                    </div>
                    <div class="box-body">
                      This app is for quick view of the maxquant summary
                      <br/>
                    </div>
                  </div>
                </div>
                <div class="col-sm-12">
                  <div class="box box-solid box-primary">
                    <div class="box-header">
                      <h3 class="box-title">Contact</h3>
                    </div>
                    <div class="box-body">
                      Author: Zhibin Ning
                      <br/>
                      Email: ningzhibin@gmail.com
                      <br/>
                      <a href="https://groups.google.com/forum/#!forum/lovemetalab">Suggestions and bug report</a>
                    </div>
                  </div>
                </div>
                <div class="col-sm-12">
                  <div class="box box-solid box-primary">
                    <div class="box-header">
                      <h3 class="box-title">Acknowledgement</h3>
                    </div>
                    <div class="box-body">
                      <p>This shiny apps uses:</p>
                      <p>taxize: for NCBI querying tool.</p>
                      <p>d3treeR, treemap, sunburstR, d3Tree, D3partitionR: for all kinds of treeview plot</p>
                      <p>DT, data.table: to table manipulation and display</p>
                      <p>colourpicker: for color picking</p>
                      <p>shinyBS: for progressing status.</p>
                    </div>
                  </div>
                </div>
                <div class="col-sm-12">
                  <div class="box box-solid box-primary">
                    <div class="box-header">
                      <h3 class="box-title">Change log</h3>
                    </div>
                    <div class="box-body">
                      V0.1: 20180118, app online
                      <br/>
                    </div>
                  </div>
                </div>
                <div class="col-sm-12">
                  <div class="box box-solid box-primary">
                    <div class="box-header">
                      <h3 class="box-title">Error Log (check here if error occurred)</h3>
                    </div>
                    <div class="box-body">
                      <pre id="console_error"></pre>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
        </section>
      </div>
    </div>
  </body>



</html>